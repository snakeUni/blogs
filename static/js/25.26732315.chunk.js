(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{78:function(n,a,s){"use strict";s.r(a),s.d(a,"readingTime",function(){return r}),s.d(a,"default",function(){return m}),s.d(a,"tableOfContents",function(){return g}),s.d(a,"frontMatter",function(){return d});var t=s(13),p=s(18),e=s(19),o=s(21),c=s(20),l=s(22),u=s(0),i=s.n(u),k=s(17),r={text:"2 min read",minutes:1.14,time:68399.99999999999,words:228},m=function(n){function a(n){var s;return Object(p.a)(this,a),(s=Object(o.a)(this,Object(c.a)(a).call(this,n))).layout=null,s}return Object(l.a)(a,n),Object(e.a)(a,[{key:"render",value:function(){var n=this.props,a=n.components;Object(t.a)(n,["components"]);return i.a.createElement(k.MDXTag,{name:"wrapper",components:a},i.a.createElement(k.MDXTag,{name:"h2",components:a,props:{id:"a-trycatch-quiz"}},"a try/catch quiz"),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u5728async/await\u51fa\u6765\u540e\uff0c\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86\u8d8a\u6765\u8d8a\u591a\u7684try/catch, \u4f46\u662f\u5f88\u591a\u65f6\u5019\u5bf9\u5b83\u5e76\u4e0d\u4e86\u89e3\uff0c\u4ee5\u53cafinally\uff0c\u63a5\u4e0b\u6765\u770b\u51e0\u4e2a\u5c0f\u6817\u5b50  "),i.a.createElement(k.MDXTag,{name:"h3",components:a,props:{id:"when-you-throw-a-catch"}},"When you throw a catch"),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u5982\u679c\u5728catch\u91cc\u629b\u51fa\u4e86\u4e00\u4e2a\u9519\u8bef\uff0c\u90a3\u4e48finally\u8fd8\u4f1a\u8fd0\u884c\u561b\u3002\u770b\u4e0b\u9762\u7684",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://codepen.io/anon/pen/LqMoJd?editors=1111"}},"\u4f8b\u5b50")),i.a.createElement(k.MDXTag,{name:"pre",components:a},i.a.createElement(k.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">try</span> <span class="token punctuation">{</span>\n    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">\'\u51fa\u9519\u5566\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'catch \u6267\u884c\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">throw</span> e\n  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'finally \u8fd0\u884c\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'\u6700\u540e\u6267\u884c\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n'}}})),i.a.createElement(k.MDXTag,{name:"p",components:a},i.a.createElement(k.MDXTag,{name:"em",components:a,parentName:"p"},"catch \u548c finally \u7684 ",i.a.createElement(k.MDXTag,{name:"inlineCode",components:a,parentName:"em"},"console.log"),"\u90fd\u6267\u884c\u4e86\uff0c\u4f46\u662f\u6700\u540e\u4e00\u4e2aconsole.log\u5e76\u6ca1\u6709\u6267\u884c")),i.a.createElement(k.MDXTag,{name:"h3",components:a,props:{id:"try-without-catch"}},"Try without catch"),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u5f53\u53ea\u6709try / finally\u7684\u65f6\u5019",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://codepen.io/anon/pen/LqMoJd?editors=1111"}},"\u4f8b\u5b50")),i.a.createElement(k.MDXTag,{name:"pre",components:a},i.a.createElement(k.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">function</span> <span class="token function">example1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">try</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'try\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'finally \u8fd0\u884c\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'\u6700\u540e\u6267\u884c\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">example1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n'}}})),i.a.createElement(k.MDXTag,{name:"p",components:a},i.a.createElement(k.MDXTag,{name:"em",components:a,parentName:"p"},"\u5c3d\u7ba1\u6ca1\u6709catch finally\u4ecd\u7136\u88ab\u6267\u884c\u4e86\u3002\u5f53\u7136\u5373\u4f7f\u6709catch finally\u8fd8\u662f\u4f1a\u88ab\u6267\u884c")),i.a.createElement(k.MDXTag,{name:"h3",components:a,props:{id:"return-and-finally"}},"Return and finally"),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u5982\u679c\u5728try\u91cc\u9762\u8fd4\u56de,\u90a3\u4e48 finally\u8fd8\u4f1a\u6267\u884c\u561b",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://codepen.io/anon/pen/LqMoJd?editors=1111"}},"\u4f8b\u5b50")),i.a.createElement(k.MDXTag,{name:"pre",components:a},i.a.createElement(k.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">function</span> <span class="token function">example2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">try</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'return try\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">return</span>\n  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'finally \u8fd0\u884c\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">example2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n'}}})),i.a.createElement(k.MDXTag,{name:"p",components:a},i.a.createElement(k.MDXTag,{name:"em",components:a,parentName:"p"},"\u5373\u4f7f\u5728try\u91cc\u8fdb\u884c\u4e86return finally\u4ecd\u7136\u4f1a\u6267\u884c")),i.a.createElement(k.MDXTag,{name:"h3",components:a,props:{id:"the-rule"}},"The Rule"),i.a.createElement(k.MDXTag,{name:"p",components:a},"finally \u5728try/catch/finally\u91cc\uff0c\u65e0\u8bba\u5982\u4f55\u90fd\u4f1a\u6267\u884c\u3002\u6240\u4ee5\u53ef\u4ee5\u5728finally\u5904\u7406loading\u72b6\u6001\u3002\u90a3\u4e48",i.a.createElement(k.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Promise.finally"),"\u662f\u5426\u4e5f\u662f\u4e00\u6837\u3002 "),i.a.createElement(k.MDXTag,{name:"h3",components:a,props:{id:"promise-fulfilled"}},"Promise fulfilled"),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u5f53promise\u7684\u72b6\u6001\u4e3a",i.a.createElement(k.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"fulfilled"),"\u7684\u65f6\u5019, \u6267\u884c\u4e86",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://codepen.io/anon/pen/BMvgdK?editors=1112"}},"finally")),i.a.createElement(k.MDXTag,{name:"pre",components:a},i.a.createElement(k.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'resolve\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'finally\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n'}}})),i.a.createElement(k.MDXTag,{name:"h3",components:a,props:{id:"promise-rejected"}},"Promise rejected"),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u5f53promise\u7684\u72b6\u6001\u4e3a",i.a.createElement(k.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"rejected"),"\u7684\u65f6\u5019, \u662f\u5426\u6267\u884c\u4e86",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://codepen.io/anon/pen/BMvgdK?editors=1112"}},"finally")),i.a.createElement(k.MDXTag,{name:"pre",components:a},i.a.createElement(k.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">function</span> <span class="token function">example1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'resolve\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'catch\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'finally\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">example1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n'}}})),i.a.createElement(k.MDXTag,{name:"p",components:a},i.a.createElement(k.MDXTag,{name:"em",components:a,parentName:"p"},"\u5f53promise\u7684\u72b6\u6001\u4e3a",i.a.createElement(k.MDXTag,{name:"inlineCode",components:a,parentName:"em"},"rejected"),"\u7684\u65f6\u5019, finally \u4ecd\u7136\u4f1a\u88ab\u6267\u884c\u3002")),i.a.createElement(k.MDXTag,{name:"p",components:a},"\u8fd9\u4e5f\u662f\u672c\u6587\u7684\u7075\u611f\u6240\u5728\u3002",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise"}},"promise\u6587\u6863"),i.a.createElement(k.MDXTag,{name:"br",components:a,parentName:"p"}),"\u6bd4\u5982\u5728\u8bf7\u6c42\u63a5\u53e3\u7684\u65f6\u5019\uff0c\u5728\u63a5\u53e3\u6ca1\u6709\u8fd4\u56de\u4e4b\u524d\u663e\u793aloading\u4fe1\u606f\uff0c\u63a5\u53e3\u8fd4\u56de\u540e\u65e0\u8bba\u6210\u529f\u8fd8\u662f\u5931\u8d25\u90fd\u5e94\u8be5\u53d6\u6d88loading, \u6765\u4e2a",i.a.createElement(k.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://codesandbox.io/s/v10k0xyqwl"}},"\u6817\u5b50\ud83c\udf30")),i.a.createElement(k.MDXTag,{name:"pre",components:a},i.a.createElement(k.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"language-jsx","data-language":"jsx","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">LoadingMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">getMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>setLoading<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\u70b9\u51fb\u52a0\u8f7d</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token punctuation">{</span>loading <span class="token operator">?</span> <span class="token string">"\u52a0\u8f7d\u4e2d..."</span> <span class="token punctuation">:</span> <span class="token string">"loading success"</span><span class="token punctuation">}</span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'}}})),i.a.createElement(k.MDXTag,{name:"p",components:a},i.a.createElement(k.MDXTag,{name:"em",components:a,parentName:"p"},"\u5bf9\u4e8e\u65e0\u8bba\u662f\u6210\u529f\u8fd8\u662f\u62d2\u7edd\u72b6\u6001\u90fd\u8981\u6267\u884c\u7684\uff0c\u5c31\u53ef\u4ee5\u653e\u5728finally\u91cc\u8fdb\u884c\u5904\u7406\u5566")))}}]),a}(i.a.Component),g=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{id:"a-trycatch-quiz",level:2,title:"a try/catch quiz",children:[{id:"when-you-throw-a-catch",level:3,title:"When you throw a catch",children:[]},{id:"try-without-catch",level:3,title:"Try without catch",children:[]},{id:"return-and-finally",level:3,title:"Return and finally",children:[]},{id:"the-rule",level:3,title:"The Rule",children:[]},{id:"promise-fulfilled",level:3,title:"Promise fulfilled",children:[]},{id:"promise-rejected",level:3,title:"Promise rejected",children:[]}]}]},d={}}}]);
//# sourceMappingURL=25.26732315.chunk.js.map